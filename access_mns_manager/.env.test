# Test environment variables for Symfony
# Loaded when APP_ENV=test

APP_ENV=test
APP_DEBUG=1
APP_SECRET=TestSecretChangeMe

# Use SQLite for fast, isolated tests
DATABASE_URL="sqlite:///%kernel.project_dir%/var/test.db"
# Alternative Postgres (commented)
# DATABASE_URL="postgresql://access_mns_user:Dihupu!2@database:5432/access_mns_test?serverVersion=16&charset=utf8"

# Mailer: discard emails
MAILER_DSN=null://null

# Messenger: sync transport is fastest for unit/functional tests
MESSENGER_TRANSPORT_DSN=sync://
# If you need to test async logic with doctrine transport:
# MESSENGER_TRANSPORT_DSN=doctrine://default?auto_setup=1

# JWT (use test keys with no passphrase for testing)
JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/test_private.pem
JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/test_public.pem
JWT_PASSPHRASE=

# Stripe dummy keys for tests
STRIPE_API_KEY=sk_test_dummy
STRIPE_PUBLIC_KEY=pk_test_dummy

# Mercure usually not needed in tests; disable by pointing to nothing (optional)
MERCURE_URL=http://localhost/.well-known/mercure
MERCURE_PUBLIC_URL=http://localhost/.well-known/mercure
MERCURE_JWT_SECRET=TestMercureSecretChangeMe

# Trusted proxies not required in tests but keep minimal
TRUSTED_PROXIES=127.0.0.1
