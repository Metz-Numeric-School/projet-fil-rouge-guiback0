<div class="badges-container">
  <div class="dashboard-header">
    <h1>
      <mat-icon class="dashboard-icon">badge</mat-icon>
      Badges
    </h1>
    <p class="dashboard-subtitle">Consultez vos badges d'accès actifs et leurs informations</p>
  </div>

  <div class="dashboard-grid">
    <!-- Active Badges Section -->
    <div class="active-badges-section">
      <h2 class="section-title">
        <mat-icon>credit_card</mat-icon>
        Badges Actifs
      </h2>

      <div *ngIf="getActiveBadges().length > 0; else noActiveBadges" class="badges-grid">
        <mat-card *ngFor="let badge of getActiveBadges()" class="dashboard-card active-badge-card">
          <mat-card-header>
            <div mat-card-avatar class="card-avatar active-badge-avatar">
              <mat-icon>credit_card</mat-icon>
            </div>
            <mat-card-title>{{ badge.numero_badge }}</mat-card-title>
            <mat-card-subtitle>{{ badge.type_badge }}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="info-grid">
              <div class="info-item">
                <strong>Créé le:</strong>
                <span>{{ formatDate(badge.date_creation) }}</span>
              </div>
              <div class="info-item" *ngIf="badge.date_expiration">
                <strong>Expire le:</strong>
                <span>{{ formatDate(badge.date_expiration) }}</span>
              </div>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <mat-chip [color]="getBadgeStatusColor(badge)">
              <mat-icon>{{ badge.is_active ? 'check_circle' : 'cancel' }}</mat-icon>
              {{ badge.is_active ? 'ACTIF' : 'INACTIF' }}
            </mat-chip>
          </mat-card-actions>
        </mat-card>
      </div>

      <ng-template #noActiveBadges>
        <mat-card class="dashboard-card no-badge-card">
          <mat-card-header>
            <div mat-card-avatar class="card-avatar no-badge-avatar">
              <mat-icon>block</mat-icon>
            </div>
            <mat-card-title>Aucun Badge Actif</mat-card-title>
            <mat-card-subtitle>Pas de badge en cours de validité</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>Aucun badge actif n'est actuellement disponible sur votre profil.</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button disabled>
              <mat-icon>block</mat-icon>
              Non disponible
            </button>
          </mat-card-actions>
        </mat-card>
      </ng-template>
    </div>

  </div>
</div>
