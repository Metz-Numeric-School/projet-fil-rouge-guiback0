<div class="login-container">
  <div class="login-wrapper">
    <!-- Logo and Brand Section -->
    <div class="brand-section">
      <div class="logo-container">
        <mat-icon class="brand-logo">security</mat-icon>
      </div>
      <h1 class="brand-title">ACCESS MNS</h1>
      <p class="brand-subtitle">Système de Gestion d'Accès</p>
    </div>

    <!-- Login Form Card -->
    <mat-card class="login-card">
      <mat-card-header>
        <mat-card-title>Connexion</mat-card-title>
        <mat-card-subtitle>Connectez-vous à votre espace</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <!-- Email Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Adresse email</mat-label>
            <input matInput type="email" formControlName="email" placeholder="exemple@entreprise.com"
              autocomplete="email"
              [class.mat-form-field-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
            <mat-icon matPrefix>email</mat-icon>
            <mat-error>{{ getEmailErrorMessage() }}</mat-error>
          </mat-form-field>

          <!-- Password Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Mot de passe</mat-label>
            <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password"
              placeholder="Votre mot de passe" autocomplete="current-password"
              [class.mat-form-field-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            <mat-icon matPrefix>lock</mat-icon>
            <button type="button" mat-icon-button matSuffix (click)="togglePasswordVisibility()"
              [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
              <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
            <mat-error>{{ getPasswordErrorMessage() }}</mat-error>
          </mat-form-field>

          <!-- Remember Me Checkbox -->
          <div class="form-options">
            <mat-checkbox formControlName="rememberMe" class="remember-me">
              Se souvenir de moi
            </mat-checkbox>
            <button type="button" mat-button class="forgot-password-link" (click)="onForgotPassword()">
              Mot de passe oublié ?
            </button>
          </div>

          <!-- Submit Button -->
          <button type="submit" mat-raised-button color="primary" class="login-button full-width"
            [disabled]="isLoading">
            <span *ngIf="!isLoading">Se connecter</span>
            <span *ngIf="isLoading">Connexion en cours...</span>
          </button>
        </form>
      </mat-card-content>
    </mat-card>

    <!-- Footer -->
    <div class="login-footer">
      <p>&copy; 2025 ACCESS MNS - Tous droits réservés</p>
    </div>
  </div>

  <!-- Background Animation -->
  <div class="background-animation">
    <div class="circle circle-1"></div>
    <div class="circle circle-2"></div>
    <div class="circle circle-3"></div>
  </div>
</div>
