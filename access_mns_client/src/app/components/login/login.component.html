<div class="login-container" role="main">
  <div class="login-wrapper">
    <!-- Logo and Brand Section -->
    <div class="brand-section" role="banner" aria-labelledby="brand-title">
      <div class="logo-container">
        <mat-icon class="brand-logo" aria-hidden="true">security</mat-icon>
      </div>
      <h1 id="brand-title" class="brand-title">ACCESS MNS</h1>
      <p class="brand-subtitle">Système de Gestion d'Accès</p>
    </div>

    <!-- Login Form Card -->
    <mat-card class="login-card" role="form" aria-labelledby="login-title">
      <mat-card-header>
        <mat-card-title id="login-title">Connexion</mat-card-title>
        <mat-card-subtitle>Connectez-vous à votre espace</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form" 
              aria-labelledby="login-title" novalidate>
          <!-- Email Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Adresse email</mat-label>
            <input matInput type="email" formControlName="email" placeholder="exemple@entreprise.com"
              autocomplete="email" required aria-required="true"
              aria-describedby="email-error"
              [class.mat-form-field-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
            <mat-icon matPrefix aria-hidden="true">email</mat-icon>
            <mat-error id="email-error" role="alert">{{ getEmailErrorMessage() }}</mat-error>
          </mat-form-field>

          <!-- Password Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Mot de passe</mat-label>
            <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password"
              placeholder="Votre mot de passe" autocomplete="current-password" required aria-required="true"
              aria-describedby="password-error"
              [class.mat-form-field-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            <mat-icon matPrefix aria-hidden="true">lock</mat-icon>
            <button type="button" mat-icon-button matSuffix (click)="togglePasswordVisibility()"
              [attr.aria-label]="hidePassword ? 'Afficher le mot de passe' : 'Masquer le mot de passe'" 
              [attr.aria-pressed]="!hidePassword">
              <mat-icon aria-hidden="true">{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
            <mat-error id="password-error" role="alert">{{ getPasswordErrorMessage() }}</mat-error>
          </mat-form-field>

          <!-- Remember Me Checkbox -->
          <div class="form-options">
            <mat-checkbox formControlName="rememberMe" class="remember-me" 
                         aria-label="Se souvenir de moi pour les prochaines connexions">
              Se souvenir de moi
            </mat-checkbox>
            <button type="button" mat-button class="forgot-password-link" (click)="onForgotPassword()"
                    aria-label="Récupérer votre mot de passe oublié">
              Mot de passe oublié ?
            </button>
          </div>

          <!-- Submit Button -->
          <button type="submit" mat-raised-button color="primary" class="login-button full-width"
            [disabled]="isLoading" 
            [attr.aria-label]="isLoading ? 'Connexion en cours, veuillez patienter' : 'Se connecter à votre compte'">
            <span *ngIf="!isLoading">Se connecter</span>
            <span *ngIf="isLoading" aria-live="polite">Connexion en cours...</span>
          </button>
        </form>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Background Animation -->
  <div class="background-animation" aria-hidden="true" role="presentation">
    <div class="circle circle-1"></div>
    <div class="circle circle-2"></div>
    <div class="circle circle-3"></div>
  </div>
</div>
